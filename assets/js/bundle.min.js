!function r(s,o,l){function d(t,e){if(!o[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(h)return h(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var a=o[t]={exports:{}};s[t][0].call(a.exports,function(e){return d(s[t][1][e]||e)},a,a.exports,r,s,o,l)}return o[t].exports}for(var h="function"==typeof require&&require,e=0;e<l.length;e++)d(l[e]);return d}({1:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Paint=void 0;var a=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.drawingChanged=!0,this.element=e,this.model=t,this.createUI()}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(n,[{key:"createUI",value:function(){console.log("Creating Paint");var h=this.canvas=document.createElement("canvas"),c=this.inputcanvas=document.createElement("canvas");h.width=h.height=28,c.width=c.height=280,h.style.border="1px solid blue";var u=this.inputctx=this.inputcanvas.getContext("2d"),f=this.ctx=this.canvas.getContext("2d");u.fillStyle="black",u.fillRect(0,0,c.width,c.height),h.style.width="280px",h.style.height="280px",h.style.imageRendering="pixelated";var v={x:0,y:0},m=1e3,p=-1e3,y=1e3,g=-1e3,w=20;function b(e){v.x=e.clientX-c.offsetLeft,v.y=e.clientY-c.offsetTop,m=Math.min(m,v.y-w/2),p=Math.max(p,v.y+w/2),y=Math.min(y,v.x-w/2),g=Math.max(g,v.x+w/2)}c.addEventListener("mousemove",function(e){if(1!==e.buttons)return;u.beginPath(),u.lineWidth=w,u.lineCap="round",u.strokeStyle="white",u.moveTo(v.x,v.y),b(e),u.lineTo(v.x,v.y),u.stroke(),f.fillStyle="black",f.fillRect(0,0,h.width,h.height);for(var t=0,n=0,i=u.getImageData(0,0,c.width,c.height).data,a=0,r=w,s=0;s<i.length;s+=4*r){var o=s/4%c.width,l=s/4/c.width|0;a+=i[s],t+=i[s]*o,n+=i[s]*l}t/=a,n/=a;var d=Math.max(g-y,p-m);f.drawImage(c,y,m,d,d,14+20/d*(y-t),14+20/d*(m-n),20,20),this.drawingChanged=!0}),c.addEventListener("mousedown",b),c.addEventListener("mouseenter",b);var e=document.createElement("button");e.innerHTML="reset",e.addEventListener("click",function(){p=-(m=1e3),g=-(y=1e3),u.fillRect(0,0,c.width,c.height),f.fillRect(0,0,h.width,h.height)}),this.element.appendChild(document.createTextNode("Paint here:")),this.element.appendChild(c),this.element.appendChild(document.createTextNode("normalized image:")),this.element.appendChild(h),this.element.appendChild(e),this.bars=[];for(var t=0;t<10;t++){var n=document.createElement("div");n.style.width="100px",n.style.height="1em",this.bars[t]=document.createElement("div"),this.bars[t].style.width="0%",this.bars[t].style.height="95%",this.bars[t].style.backgroundColor="red",this.bars[t].innerHTML=t,n.appendChild(this.bars[t]),this.element.appendChild(n)}this.output=document.createElement("div"),this.element.appendChild(this.output)}},{key:"createNNoutput",value:function(){}},{key:"predict",value:function(){if(this.model&&this.canvas&&this.drawingChanged)for(var e=tf.browser.fromPixels(this.canvas,1).toFloat().mul(tf.scalar(1/255)).clipByValue(0,1).reshape([1,28,28,1]),t=this.model.predict(e),n=t.dataSync(),i=t.argMax([-1]).dataSync(),a=0;a<10;a++)this.bars[a].style.width=100*n[a]+"%",this.bars[a].style.backgroundColor=a==i?"blue":"gray"}}]),n}();n.Paint=a},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.View=void 0;e("./Paint.js");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.createEvents()}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"createEvents",value:function(){var t=this;window.addEventListener("DOMContentLoaded",function(e){t.slides=document.querySelectorAll(".slide"),t.enterSlideByURL()}),window.onhashchange=function(e){t.enterSlideByURL()}}},{key:"enterSlideByURL",value:function(){var e=window.location.hash.substring(1);""===e?e=1:e|=0,this.enterSlide(e)}},{key:"enterSlide",value:function(e){var t=this;this.slides.forEach(function(e){e.onExit&&e.onExit(),e.className="slide"}),this.slides[e]&&(this.slides[e].classList.add("visible"),setTimeout(function(){t.slides[e].classList.add("entering")},0),this.slides[e].onEnter&&this.slides[e].onEnter(this))}},{key:"initIntroPaint",value:function(e){e.innerHTML="Hello from View",console.log("A"),console.log("B")}}]),e}();n.View=a},{"./Paint.js":1}],3:[function(e,t,n){"use strict";new(e("./View.js").View)},{"./View.js":2}]},{},[3]);
//# sourceMappingURL=bundle.min.js.map
