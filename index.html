<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <meta property="og:url" content="">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Can the computer read your handwriting?">
    <meta property="og:image" content="">
    <meta name="description" content="Train a neural network with the MNIST-data set">
    <meta property="og:description" content="Train a neural network with the MNIST-data set">
    <link rel="icon" type="image/png" href="assets/img/favicon.png">
    <!--link(href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,700", rel="stylesheet")-->
    <!--link(rel="stylesheet", href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css", integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T", crossorigin="anonymous")-->
    <link rel="stylesheet" href="assets/css/default.css" media="all" type="text/css">
    <title>Can the computer read your handwriting?
    </title>
    <script src="src/js/site-helper.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="main">
      <div class="background"></div>
      <div class="slide">//invisible slide with index 0</div>
      <div class="slide">
        <div class="box header">
          <h1>Can the computer read your handwriting?</h1>
        </div>
        <div class="box middle paint" id="intropaint">
          <div>
            <p><b>Draw</b> a digit here:</p>
            <canvas class="drawcanvas"></canvas>
          </div>
          <div>
            <p>The neural network sees...</p>
            <canvas class="normalizecanvas"></canvas>
          </div>
          <div> 
            <p>... and predicts</p>
            <div class="bars"></div>
          </div>
        </div>
        <div class="box navigation">   <a href="index.html#2">find out how it works</a></div>
        <script type="text/javascript">
          currentSlide().onEnter = async (controller) => {
            controller.initIntroPaint(document.querySelector("#intropaint"))
          };
          
          currentSlide().onExit = async (controller) => {
            controller.cleanupPaint();
          };
        </script>
      </div>
      <div class="slide">
        <div class="box middle">We use a collection of 70 000 labeled images. We use it to train a neural network that classifies images of the digits 0,1,2,3,4,5,6,7,8 and 9.
          <div id="status">loading MNIST data...</div>
        </div>
        <div class="box navigation"> <a href="index.html#3">continue</a></div>
        <script type="text/javascript">
          let changingbackground = false;
          let curimgid = 0;
          backgroundanimation = () => {
            if(!changingbackground) return;
            curimgid++;
            curimgid %= 5;
            document.querySelector('.background').style.backgroundImage = `url("assets/img/background${curimgid}.png")`;
            window.setTimeout(backgroundanimation, 1500);
          };
          
          currentSlide().onEnter = async (controller) => {
            document.querySelector('.background').style.filter = 'blur(0px)';
            changingbackground = true;
            window.setTimeout(backgroundanimation, 2000);
            await controller.loadData();
            document.querySelector('#status').innerHTML = "";
          };
          currentSlide().onExit = () => {
            document.querySelector('.background').style.filter = 'blur(10px)';
            changingbackground = false;
          };
        </script>
      </div>
      <div class="slide">
        <div class="box header">
          <h1>Split the MNIST database into a training-set and a validation set.</h1>
        </div>
        <div class="box middle">
          We will use a large fraction of the images for training a neural network.
          We consider the training process as succesful if it generalizes to images outside of the training set.
          Therefore, we are using the remaining part of the images, that have not
          been used for training, for validation.
          <p>Select the fraction of validation images in <a href="index.html#3?expert">expert mode (TODO)</a>.</p>
        </div>
        <!--TODO: transfer this into CSS etc.-->
        <div class="split training step3">
          <div><b>80%</b> of the images are used for <b>training</b></div>
        </div>
        <div class="split validation step3">
          <div><b>20%</b> of the images are used for <b>validation</b></div>
        </div>
        <div class="box navigation">   <a href="index.html#4">apply selection and continue</a></div>
        <script type="text/javascript">
          currentSlide().onEnter = () => {
            document.querySelector('.background').style.filter = 'blur(0px)';
          };
          currentSlide().onExit = () => {
            document.querySelector('.background').style.filter = 'blur(10px)';
          };
        </script>
      </div>
      <!--include mnist/network-topology-->
      <div class="slide">
        <div class="split training">
          <h3>Training network</h3>
          <div class="box" id="training-controls" style="visibility:hidden;"><a class="pause-resume" href="#5">▮▮</a><a class="reset" href="#5">⟲</a></div>
          <div id="training-progress"></div>
          <div id="training-accuracy"></div>
          <canvas id="network"></canvas>
        </div>
        <div class="split validation">
          <h3>Validation</h3>
          <div>50 randomly choosen images of the validation set:
            <div id="validation-images"></div>
          </div>
          <p></p>
          <div>accuracy on entire validation set:
            <p>
              <div id="validation-accuracy" style="--angle:360deg">
                <div>0%</div>
              </div>
            </p>
          </div>
        </div>
        <div class="box bottomleft paint" id="previewpaint">
          <div>
            <p><b>Draw</b> a digit here:</p>
            <canvas class="drawcanvas"></canvas>
          </div>
          <div>
            <p>The neural network sees...</p>
            <canvas class="normalizecanvas"></canvas>
          </div>
          <div> 
            <p>... and predicts</p>
            <div class="bars"></div>
          </div>
        </div>
        <div class="box navigation">   <a href="index.html#1">restart</a></div>
        <script type="text/javascript" src="src/js/training-validation.js"></script>
      </div>
    </div>
    <!--script(src="https://code.jquery.com/jquery-3.3.1.slim.min.js", integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo", crossorigin="anonymous")-->
    <!--script(src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js", integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1", crossorigin="anonymous")-->
    <!--script(src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js", integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM", crossorigin="anonymous")-->
    <script type="text/javascript" src="assets/js/tf.min.js"></script>
    <!--script(type="text/javascript", src="assets/js/bundle.min.js")-->
    <script src="src/js/main.js" type="module"></script>
  </body>
</html>